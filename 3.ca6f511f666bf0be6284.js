(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Blfk:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n("mrSG"),n("n6gG"),n("CcnG"),n("Wf4p");var i=function(){return function(){}}()},OzhZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("mrSG"),o=n("26FU"),r=n("K9Ia"),c=n("5foc"),s=n("CcnG"),u=n("t/Na"),a=function(){function t(t){this._httpClient=t,this.onChatSelected=new o.a(null),this.onContactSelected=new o.a(null),this.onChatsUpdated=new r.a,this.onUserUpdated=new r.a,this.onLeftSidenavViewChanged=new r.a,this.onRightSidenavViewChanged=new r.a}return t.prototype.resolve=function(t,e){var n=this;return new Promise((function(t,e){Promise.all([n.getContacts(),n.getChats(),n.getUser()]).then((function(e){var i=e[1],o=e[2];n.contacts=e[0],n.chats=i,n.user=o,t()}),e)}))},t.prototype.getChat=function(t){var e=this,n=this.user.chatList.find((function(e){return e.contactId===t}));if(n)return new Promise((function(o,r){e._httpClient.get("api/chat-chats/"+n.id).subscribe((function(n){var o=n,r=e.contacts.find((function(e){return e.id===t}));e.onChatSelected.next(i.__assign({},{chatId:o.id,dialog:o.dialog,contact:r}))}),r)}));this.createNewChat(t).then((function(n){e.getChat(t)}))},t.prototype.createNewChat=function(t){var e=this;return new Promise((function(n,o){var r=e.contacts.find((function(e){return e.id===t})),s=c.a.generateGUID(),u={id:s,dialog:[]};e.user.chatList.push({contactId:t,id:s,lastMessageTime:"2017-02-18T10:30:18.931Z",name:r.name,unread:null}),e._httpClient.post("api/chat-chats",i.__assign({},u)).subscribe((function(t){e._httpClient.post("api/chat-user/"+e.user.id,e.user).subscribe((function(t){e.getUser().then((function(t){e.onUserUpdated.next(t),n(t)}))}))}),o)}))},t.prototype.selectContact=function(t){this.onContactSelected.next(t)},t.prototype.setUserStatus=function(t){this.user.status=t},t.prototype.updateUserData=function(t){var e=this;this._httpClient.post("api/chat-user/"+this.user.id,t).subscribe((function(n){e.user=t}))},t.prototype.updateDialog=function(t,e){var n=this;return new Promise((function(i,o){n._httpClient.post("api/chat-chats/"+t,{id:t,dialog:e}).subscribe((function(t){i(t)}),o)}))},t.prototype.getContacts=function(){var t=this;return new Promise((function(e,n){t._httpClient.get("api/chat-contacts").subscribe((function(t){e(t)}),n)}))},t.prototype.getChats=function(){var t=this;return new Promise((function(e,n){t._httpClient.get("api/chat-chats").subscribe((function(t){e(t)}),n)}))},t.prototype.getUser=function(){var t=this;return new Promise((function(e,n){t._httpClient.get("api/chat-user").subscribe((function(t){e(t[0])}),n)}))},t.ngInjectableDef=s.Yb({factory:function(){return new t(s.Zb(u.c))},token:t,providedIn:"root"}),t}()},u7R8:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return d})),n.d(e,"e",(function(){return g}));var i=n("mrSG"),o=n("n6gG"),r=n("YlbQ"),c=n("CcnG"),s=(n("gIcY"),n("Wf4p")),u=new c.r("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),a=function(){return function(){}}(),l=0,h=function(){return function(t,e){this.source=t,this.value=e}}(),p=function(){function t(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=function(){},this._onTouched=function(){},this._name="mat-button-toggle-group-"+l++,this.valueChange=new c.n,this.change=new c.n,this.appearance=e&&e.appearance?e.appearance:"standard"}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){var e=this;this._name=t,this._buttonToggles&&this._buttonToggles.forEach((function(t){t.name=e._name,t._markForCheck()}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=Object(o.c)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map((function(t){return t.value})):t[0]?t[0].value:void 0},set:function(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){var t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return this._multiple},set:function(t){this._multiple=Object(o.c)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Object(o.c)(t),this._buttonToggles&&this._buttonToggles.forEach((function(t){return t._markForCheck()}))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._selectionModel=new r.c(this.multiple,void 0,!1)},t.prototype.ngAfterContentInit=function(){var t;(t=this._selectionModel).select.apply(t,this._buttonToggles.filter((function(t){return t.checked})))},t.prototype.writeValue=function(t){this.value=t,this._changeDetector.markForCheck()},t.prototype.registerOnChange=function(t){this._controlValueAccessorChangeFn=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype._emitChangeEvent=function(){var t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new h(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)},t.prototype._syncButtonToggle=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i||this._updateModelValue(n)},t.prototype._isSelected=function(t){return this._selectionModel&&this._selectionModel.isSelected(t)},t.prototype._isPrechecked=function(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some((function(e){return null!=t.value&&e===t.value})):t.value===this._rawValue)},t.prototype._setSelectionByValue=function(t){var e=this;if(this._rawValue=t,this._buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach((function(t){return e._selectValue(t)}))}else this._clearSelection(),this._selectValue(t)},t.prototype._clearSelection=function(){this._selectionModel.clear(),this._buttonToggles.forEach((function(t){return t.checked=!1}))},t.prototype._selectValue=function(t){var e=this._buttonToggles.find((function(e){return null!=e.value&&e.value===t}));e&&(e.checked=!0,this._selectionModel.select(e))},t.prototype._updateModelValue=function(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)},t}(),f=function(){return function(){}}(),d=function(t){function e(e,n,i,o,r,s){var u=t.call(this)||this;u._changeDetectorRef=n,u._elementRef=i,u._focusMonitor=o,u._isSingleSelector=!1,u._checked=!1,u.ariaLabelledby=null,u._disabled=!1,u.change=new c.n;var a=Number(r);return u.tabIndex=a||0===a?a:null,u.buttonToggleGroup=e,u.appearance=s&&s.appearance?s.appearance:"standard",u}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"buttonId",{get:function(){return this.id+"-button"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appearance",{get:function(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance},set:function(t){this._appearance=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked},set:function(t){var e=Object(o.c)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled},set:function(t){this._disabled=Object(o.c)(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._isSingleSelector=this.buttonToggleGroup&&!this.buttonToggleGroup.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||"mat-button-toggle-"+l++,this._isSingleSelector&&(this.name=this.buttonToggleGroup.name),this.buttonToggleGroup&&this.buttonToggleGroup._isPrechecked(this)&&(this.checked=!0),this._focusMonitor.monitor(this._elementRef,!0)},e.prototype.ngOnDestroy=function(){var t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)},e.prototype.focus=function(t){this._buttonElement.nativeElement.focus(t)},e.prototype._onButtonClick=function(){var t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new h(this,this.value))},e.prototype._markForCheck=function(){this._changeDetectorRef.markForCheck()},e}(Object(s.D)(f)),g=function(){return function(){}}()}}]);